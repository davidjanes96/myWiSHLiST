{% extends 'main.html' %}

{% block content %}

<section class="page-section" id="single-wishlist">
    <div class="container-custom px-4 px-lg-5">
        <h2 class="text-center">My Wishlists</h2>
        <hr class="divider" />
        <div class="row">
            <!-- LEFT COLUMN ALL WISHLISTS-->
            <div class="col-lg-3">
                <div class="px-2 mb-2">
                    <a href="{% url 'create-wishlist' %}"><button class="btn btn-dark fs-5"><i class="bi bi-plus"></i> Add New</button></a>
                </div>
                <!-- SEARCH BAR -->
                <form action="{% url 'wishlists' %}" method="GET">
                    <div class="row d-flex align-items-center px-2 mb-2">
                        <div class="col-md-12">
                            <div class="search">
                                <button type="submit" class="btn bi bi-search"></button>
                                <input type="text" class="form-control fs-7" name="search_query" value="{{search_query}}" placeholder="Search wishlist by name...">
                            </div> 
                        </div> 
                    </div> 
                </form>
                <!-- END SEARCH BAR -->  
                <div class="px-2">
                    {% if wishlists %}
                    {% for wishlist in wishlists %}
                    <a href="{% url 'wishlist' wishlist.id %}">
                        <div class="p-2 mb-2 card-custom">
                            <h5 class="text-truncate text-black"><i class="bi-list-nested"></i> {{wishlist.title}}</h5>
                            <p class="text-muted mb-0 fs-7 d-inline">{{wishlist.total_products}} item{{wishlist.total_products|pluralize:"s"}}</p>
                            <p class="text-muted mb-0 fs-7 d-inline"><i class="bi bi-dot"></i></p>
                            <p class="text-muted mb-0 fs-7 d-inline">Last modified: {{wishlist.modified|date:"M, d. Y." }}</p>
                        </div>
                    </a>
                    {% endfor %}
                    {% else %}
                    <h6 class="text-muted pt-2 ps-1">{{text_message}}</h6>
                    {% endif %}
                </div>                
            </div>

            <!-- RIGHT COLUMN INDIVUDUAL WISHLIST ITEMS -->

            <div class="col-lg-9">
                <div class="row">
                    <div class="col-9">
                        <h2>Select a wishlist to edit.</h2>
                    </div>
                    <div class="pb-2">
                        <button class="btn btn-dark d-inline mx-1">Filter</button>
                        <button class="btn btn-dark d-inline float-end mx-1"><i class="bi bi-trash"></i></button>
                        <button class="btn btn-dark d-inline float-end mx-1"><i class="bi bi-pen"></i></button>
                    </div>

                    <div class="p-2 d-flex justify-content-center">
                        <h5 class="text-muted">Your wishlist items will appear here.</h5>
                    </div>

                    <div class="d-flex justify-content-center py-3">
                        <a href="{% url 'create-wishlist' %}"><button class="btn btn-dark fs-5"><i class="bi bi-plus"></i> Add New</button></a>
                    </div>  
                </div>

            </div>
        </div>
        
        
    </div>
</section>



{% endblock %}